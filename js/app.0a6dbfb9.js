(function(e){function t(t){for(var c,s,r=t[0],n=t[1],i=t[2],u=0,b=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&b.push(l[s][0]),l[s]=0;for(c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c]);d&&d(t);while(b.length)b.shift()();return o.push.apply(o,i||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],c=!0,r=1;r<a.length;r++){var n=a[r];0!==l[n]&&(c=!1)}c&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var c={},l={app:0},o=[];function s(t){if(c[t])return c[t].exports;var a=c[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=c,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)s.d(a,c,function(t){return e[t]}.bind(null,c));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],n=r.push.bind(r);r.push=t,r=r.slice();for(var i=0;i<r.length;i++)t(r[i]);var d=n;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"13ef":function(e,t,a){"use strict";a("21ab")},"21ab":function(e,t,a){},"35c7":function(e,t,a){},4501:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var c=a("7a23");function l(e,t,a,l,o,s){const r=Object(c["w"])("router-view");return Object(c["p"])(),Object(c["d"])(r)}var o={setup(){}};o.render=l;var s=o,r=a("6c02");const n=Object(c["H"])("data-v-73f0e6c1");Object(c["s"])("data-v-73f0e6c1");const i={class:"container"},d=Object(c["g"])("h4",null,"Welcome to Gadol online",-1),u=Object(c["g"])("hr",null,null,-1),b=Object(c["g"])("p",null,"Gadol is an exciting game of strategy and finance. Outwit your opponents in order for you to create the most value. Login or Sign up if you would like to play.",-1),g=Object(c["g"])("br",null,null,-1),j={class:"center"},O=Object(c["g"])("i",{class:"material-icons left"},"account_circle",-1),p=Object(c["f"])("Login"),m=Object(c["g"])("i",{class:"material-icons left"},"add_circle",-1),v=Object(c["f"])("Sign up"),f=Object(c["g"])("br",null,null,-1);Object(c["q"])();const y=n((e,t,a,l,o,s)=>{const r=Object(c["w"])("Navbar"),y=Object(c["w"])("router-link");return Object(c["p"])(),Object(c["d"])(c["a"],null,[Object(c["g"])("header",null,[Object(c["g"])(r)]),Object(c["g"])("main",null,[Object(c["g"])("div",i,[d,u,b,g,Object(c["g"])("div",j,[Object(c["g"])(y,{to:"/login",class:"waves-effect waves-light btn space-right green darken-3"},{default:n(()=>[O,p]),_:1}),Object(c["g"])(y,{to:"/signup",class:"waves-effect waves-light btn green darken-3"},{default:n(()=>[m,v]),_:1})]),f])])],64)}),h={class:"footer-copyright green lighten-4 multipadding-10"},w={class:"container"};function k(e,t,a,l,o,s){return Object(c["p"])(),Object(c["d"])("footer",h,[Object(c["g"])("div",w," Â© "+Object(c["y"])(l.currYear)+" Copyright Gadol ",1)])}var R={setup(){const e=(new Date).getFullYear();return{currYear:e}}};R.render=k;var C=R;const P={class:"nav-wrapper green darken-4"},_=Object(c["f"])("Gadol Online");function G(e,t,a,l,o,s){const r=Object(c["w"])("router-link");return Object(c["p"])(),Object(c["d"])("nav",null,[Object(c["g"])("div",P,[Object(c["g"])(r,{to:"/",class:"brand-logo center"},{default:Object(c["F"])(()=>[_]),_:1})])])}var N={};N.render=G;var x=N,z={components:{Navbar:x,Foot:C}};a("13ef");z.render=y,z.__scopeId="data-v-73f0e6c1";var A=z;const I={class:"container-fluid"},T={class:"container"},S=Object(c["g"])("div",{class:"row"},[Object(c["g"])("div",{class:"col s12 m12"},[Object(c["g"])("p",null,"This is the player restricted area. Here you will find your created rooms or be able to join another player's room.")])],-1),D={class:"row"},L={class:"col s12 m12 center"},U=Object(c["g"])("i",{class:"material-icons left"},"build",-1),E=Object(c["f"])("Create a room"),V=Object(c["g"])("i",{class:"material-icons left"},"fingerprint",-1),Y=Object(c["f"])("Join a room"),F={class:"row"},H={class:"col s12 m12"},q=Object(c["g"])("h6",null,"Your created rooms:",-1),J=Object(c["g"])("p",{class:"red-text"},[Object(c["g"])("em",null,"You currenly have no rooms open")],-1),W={class:"highlight"},B=Object(c["g"])("thead",null,[Object(c["g"])("tr",null,[Object(c["g"])("th",null,"Room name"),Object(c["g"])("th",{class:"center"},"Player count"),Object(c["g"])("th",{class:"center"},"Timed game?"),Object(c["g"])("th",null,"Actions")])],-1),K={class:"center"},Q={class:"center"};function X(e,t,a,l,o,s){const r=Object(c["w"])("NavbarLoggedIn"),n=Object(c["w"])("router-link");return Object(c["p"])(),Object(c["d"])("div",I,[Object(c["g"])(r),Object(c["g"])("div",T,[Object(c["g"])("h5",null,"Welcome "+Object(c["y"])(l.user.displayName)+"!",1),S,Object(c["g"])("div",D,[Object(c["g"])("div",L,[Object(c["g"])(n,{to:"/create",class:"waves-effect waves-light btn space-allaround amber accent-4  black-text"},{default:Object(c["F"])(()=>[U,E]),_:1}),Object(c["g"])(n,{to:"/join",class:"waves-effect waves-light btn amber accent-4  black-text"},{default:Object(c["F"])(()=>[V,Y]),_:1})])]),Object(c["g"])("div",F,[Object(c["g"])("div",H,[q,Object(c["G"])(Object(c["g"])("div",null,[J],512),[[c["D"],!l.haveRooms]]),Object(c["G"])(Object(c["g"])("div",null,[Object(c["g"])("table",W,[B,Object(c["g"])("tbody",null,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(l.roomsData,e=>(Object(c["p"])(),Object(c["d"])("tr",{key:e.id},[Object(c["g"])("td",null,Object(c["y"])(e.name),1),Object(c["g"])("td",K,Object(c["y"])(e.numPlayers),1),Object(c["g"])("td",Q,Object(c["y"])(e.timed),1),Object(c["g"])("td",null,[Object(c["g"])("button",{class:"btn space-allaround green darken-3",onClick:t=>l.joinRoom(e.id)},"Join",8,["onClick"]),Object(c["g"])("button",{class:"btn red darken-4",onClick:t=>l.deleteRoom(e.id)},"Delete",8,["onClick"])])]))),128))])])],512),[[c["D"],l.haveRooms]])])])])])}const Z=Object(c["H"])("data-v-94c473d4");Object(c["s"])("data-v-94c473d4");const $={class:""},ee={class:"nav-wrapper amber accent-4 padding-left black-text"},te=Object(c["f"])("Gadol Online"),ae=Object(c["f"])("Gadol Online"),ce={id:"nav-mobile",class:"right hide-on-med-and-down"},le=Object(c["f"])("Logout"),oe=Object(c["g"])("i",{class:"material-icons right"},"highlight_off",-1);Object(c["q"])();const se=Z((e,t,a,l,o,s)=>{const r=Object(c["w"])("router-link");return Object(c["p"])(),Object(c["d"])("nav",$,[Object(c["g"])("div",ee,[Object(c["g"])(r,{to:"/",class:"brand-logo left black-text hide-on-med-and-down"},{default:Z(()=>[te]),_:1}),Object(c["g"])(r,{to:"/",class:"brand-logo center black-text smaller-font hide-on-med-and-up"},{default:Z(()=>[ae]),_:1}),Object(c["g"])("ul",ce,[Object(c["g"])("li",null,"You are logged in as: "+Object(c["y"])(l.user.displayName),1),Object(c["g"])("li",null,[Object(c["g"])("a",{onClick:t[1]||(t[1]=(...e)=>l.handleLogout&&l.handleLogout(...e))},[le,oe])])])])])});var re=a("a1e9"),ne=a("260b");a("e71f"),a("1247");const ie={apiKey:"AIzaSyCGaDtFGPGAlydcP1gKdYFiVcL9fHk2Fos",authDomain:"gadol2021.firebaseapp.com",databaseURL:"https://gadol2021-default-rtdb.firebaseio.com",projectId:"gadol2021",storageBucket:"gadol2021.appspot.com",messagingSenderId:"92553552217",appId:"1:92553552217:web:8b17256a3c223c31a8ec48"};ne["a"].initializeApp(ie);const de=ne["a"].auth(),ue=ne["a"].firestore(),be=(ne["a"].firestore.FieldValue.serverTimestamp,Object(re["j"])(null)),ge=async()=>{be.value=null;try{await de.signOut()}catch(e){console.log(e.message),be.value=e.message}},je=()=>({logout:ge,error:be});var Oe=je;const pe=Object(re["j"])(de.currentUser);de.onAuthStateChanged(e=>{console.log("User state change. Current user is: ",e),pe.value=e});const me=()=>({user:pe});var ve=me,fe={setup(e,t){const{logout:a,error:c}=Oe(),{user:l}=ve(),o=Object(r["c"])(),s=async()=>{await a(),c.value||(console.log("user logged out"),o.push({name:"Home"}),M.toast({html:"You logged out"}))},n=async()=>{await a(),c.value||(console.log("user logged out"),o.push({name:"Home"}),M.toast({html:"You logged out"}))};return{handleClick:s,handleLogout:n,user:l}}};a("a681");fe.render=se,fe.__scopeId="data-v-94c473d4";var ye=fe,he={components:{NavbarLoggedIn:ye},setup(){const{user:e}=ve(),t=Object(re["j"])(null),a=Object(r["c"])();de.onAuthStateChanged(e=>{e?ue.collection("rooms").where("creator","==",e.uid).onSnapshot(a=>{let c=[];a.docs.forEach(e=>{c.push({...e.data(),id:e.id})}),t.value=c,console.log(c),ue.collection("players").doc(e.uid).get().then(e=>{const t=e.data().surname;console.log("user logged in: "+t)})},e=>{console.log("This is the error: "+e.message)}):console.log("user logged out")});const c=1,l=async e=>{await ue.collection("rooms").doc(e).delete(),M.toast({html:"Room has been deleted."}),console.log("Room deleted: "+e)},o=e=>{a.push({name:"GameRoom",params:{id:e}}),console.log("Room joined"),M.toast({html:"Room has been joined"})};return{user:e,haveRooms:c,roomsData:t,deleteRoom:l,joinRoom:o}}};he.render=X;var we=he;const ke={class:"container-fluid"},Re={class:"container"},Ce=Object(c["g"])("div",{class:"center"},[Object(c["g"])("h5",{class:"remove-margin"},[Object(c["g"])("i",{class:"material-icons space-right"},"build"),Object(c["f"])("Create a game room")])],-1),Pe={class:"row remove-margin"},_e={class:"col s12 m12"},Ge={class:"center"},Ne=Object(c["g"])("p",{class:"center"},"Once a room is created - you can share the game ID for others to join you.",-1),xe={class:"row"},ze=Object(c["g"])("div",{class:"col s12 m1"},null,-1),Ae={class:"col s12 m10"},Ie={class:"card horizontal"},Te={class:"card-stacked"},Se={class:"card-content"},De={class:"col s12"},Le={class:"row"},Ue={class:"input-field col s12 m6"},Ee=Object(c["g"])("label",{for:"room_name"},"Give the room a name",-1),Ve={class:"input-field col s12 m6"},Ye=Object(c["g"])("option",{value:"2",disabled:"",selected:""},"Choose your option",-1),Fe=Object(c["g"])("option",{value:"2"},"2 players",-1),Me=Object(c["g"])("option",{value:"3"},"3 players",-1),He=Object(c["g"])("option",{value:"4"},"4 players",-1),qe=Object(c["g"])("label",null,"Number of players / teams",-1),Je={class:"row margin-bottom"},We=Object(c["g"])("div",{class:"col s12"},[Object(c["g"])("span",null,"Please enable options you would like to add:")],-1),Be={class:"input-field col s12 m6"},Ke=Object(c["g"])("span",null,"Timed game",-1),Qe={class:"input-field col s12 m6"},Xe=Object(c["g"])("span",null,"Reserve card action",-1),Ze={class:"row"},$e=Object(c["g"])("div",{class:"col s12 remove-margin"},[Object(c["g"])("span",null,"Which rules would you like to play with?")],-1),et={class:"col s12"},tt=Object(c["g"])("option",{value:"0",disabled:"",selected:""},"Choose your option",-1),at=Object(c["g"])("option",{value:"1"},"1st to 15 points (No contract fulfilment) ",-1),ct=Object(c["g"])("option",{value:"2"},"Highest value (Game ends with a contract fulfilment)",-1),lt={class:"row"},ot=Object(c["g"])("div",{class:"col s12 space-allaround"},null,-1),st={class:"col s12 m12 center"},rt=Object(c["g"])("i",{class:"material-icons left"},"build",-1),nt=Object(c["f"])("Create a room"),it={class:"center space-allaround"},dt=Object(c["f"])("If you would like to join a room instead, click "),ut=Object(c["f"])("here"),bt=Object(c["f"])("."),gt=Object(c["g"])("div",{class:"col s12 m1"},null,-1);function jt(e,t,a,l,o,s){const r=Object(c["w"])("NavbarLoggedIn"),n=Object(c["w"])("router-link");return Object(c["p"])(),Object(c["d"])("div",ke,[Object(c["g"])(r),Object(c["g"])("div",Re,[Ce,Object(c["g"])("div",Pe,[Object(c["g"])("div",_e,[Object(c["g"])("p",Ge,"A room is a place where you, "+Object(c["y"])(l.user.displayName)+", can invite your friends or teammates to play Gadol with you.",1),Ne])]),Object(c["g"])("div",xe,[ze,Object(c["g"])("div",Ae,[Object(c["g"])("div",Ie,[Object(c["g"])("div",Te,[Object(c["g"])("div",Se,[Object(c["g"])("form",De,[Object(c["g"])("div",Le,[Object(c["g"])("div",Ue,[Object(c["G"])(Object(c["g"])("input",{id:"room_name",type:"text",class:"validate","onUpdate:modelValue":t[1]||(t[1]=e=>l.roomName=e)},null,512),[[c["C"],l.roomName]]),Ee]),Object(c["g"])("div",Ve,[Object(c["G"])(Object(c["g"])("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.numberPlayers=e)},[Ye,Fe,Me,He],512),[[c["B"],l.numberPlayers]]),qe])]),Object(c["g"])("div",Je,[We,Object(c["g"])("div",Be,[Object(c["g"])("label",null,[Object(c["G"])(Object(c["g"])("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>l.gameTimed=e)},null,512),[[c["A"],l.gameTimed]]),Ke])]),Object(c["g"])("div",Qe,[Object(c["g"])("label",null,[Object(c["G"])(Object(c["g"])("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>l.gameReserve=e)},null,512),[[c["A"],l.gameReserve]]),Xe])])]),Object(c["g"])("div",Ze,[$e,Object(c["g"])("div",et,[Object(c["G"])(Object(c["g"])("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.gameWinCondition=e)},[tt,at,ct],512),[[c["B"],l.gameWinCondition]])])]),Object(c["g"])("div",lt,[ot,Object(c["g"])("div",st,[Object(c["g"])("a",{class:"waves-effect waves-light btn amber accent-4 black-text",onClick:t[6]||(t[6]=(...e)=>l.createRoom&&l.createRoom(...e))},[rt,nt]),Object(c["g"])("div",it,[Object(c["g"])("span",null,[dt,Object(c["g"])(n,{to:"/join"},{default:Object(c["F"])(()=>[ut]),_:1}),bt])])])])])])])])]),gt])])])}var Ot=a("4d5c"),pt=a.n(Ot);const mt=e=>{const t=Object(c["u"])(null),a=async a=>{t.value=null;try{await ue.collection(e).add(a)}catch(c){console.log(c.message),t.value="could not send the message"}};return{error:t,addDoc:a}};var vt=mt,ft={components:{NavbarLoggedIn:ye},setup(){const{user:e}=ve(),{error:t,addDoc:a}=vt("rooms"),c=Object(r["c"])(),l=Object(re["j"])(""),o=Object(re["j"])(""),s=Object(re["j"])(""),n=Object(re["j"])(""),i=Object(re["j"])(""),d=o.value;let u,b,g,j,O,p,m,v,f,y,h,w,k,R,C,P,_,G,N,x,z,A,I,T,S,D,L,U,E;fetch("/reset.json").then(e=>e.json()).then(e=>{u=e.ResetTable,y=u.temporaryResources.red,h=u.temporaryResources.green,w=u.temporaryResources.yellow,k=u.temporaryResources.purple,R=u.temporaryResources.black,f=u.playerReset.maxTempResources,v=u.numberOfPlayers,b=u.resourcesCards.redCards,g=u.resourcesCards.greenCards,j=u.resourcesCards.yellowCards,O=u.resourcesCards.purpleCards,p=u.resourcesCards.blackCards,m=u.contractCards,C=u.playerReset.cash,P=u.playerReset.production,_=u.playerReset.temporaryResources.red,G=u.playerReset.temporaryResources.green,N=u.playerReset.temporaryResources.yellow,x=u.playerReset.temporaryResources.purple,z=u.playerReset.temporaryResources.black,A=u.playerReset.permanentResources.red,I=u.playerReset.permanentResources.green,T=u.playerReset.permanentResources.yellow,S=u.playerReset.permanentResources.purple,D=u.playerReset.permanentResources.black,L=u.playerReset.value,U=u.playerReset.cost,E=u.playerReset.debtors,console.log("from create view - reset values (Number of players): ",C)});const V=e=>{var t,a,c=e.length;if(c)while(--c)a=Math.floor(Math.random()*(c+1)),t=e[a],e[a]=e[c],e[c]=t;return e},Y=async()=>{const r=0,v=V(m),f=V(g),Y=V(j),F=V(b),M=V(O),H=V(p),q=new Array(d).fill(C),J=new Array(d).fill(P),W=new Array(d).fill(L),B=new Array(d).fill(U),K=new Array(d).fill(E),Q=new Array(d).fill(_),X=new Array(d).fill(G),Z=new Array(d).fill(N),$=new Array(d).fill(x),ee=new Array(d).fill(z),te=new Array(d).fill(A),ae=new Array(d).fill(I),ce=new Array(d).fill(T),le=new Array(d).fill(S),oe=new Array(d).fill(D),se={creator:e.value.uid,name:l.value,numPlayers:o.value,timed:s.value,reserve:n.value,rules:i.value,maxnumberofplayers:u.numberOfPlayers,gstate:r,z00contractCards:v,z01greenCards:f,z02yellowCards:Y,z03redCards:F,z04purpleCards:M,z05blackCards:H,z06holderCards:[0,0,0],z07marketRedTokens:y,z08marketGreenTokens:h,z09marketYellowTokens:w,z10marketPurpleTokens:k,z11marketBlackTokens:R,z12playerCash:q,z13playerProduction:J,z14playerContractValue:W,z15playerContractCost:B,z16playerContractDebtors:K,z17playerTempRed:Q,z18playerTempGreen:X,z19playerTempYellow:Z,z20playerTempPurple:$,z21playerTempBlack:ee,z22playerPermRed:te,z23playerPermGreen:ae,z24playerPermYellow:ce,z25playerPermPurple:le,z26playerPermBlack:oe};await a(se),t.value||(c.push({name:"Player"}),console.log("Room created"),pt.a.toast({html:"Room has been created"})),console.log(se)},F=null;return{createRoom:Y,haveRooms:F,user:e,roomName:l,numberPlayers:o,gameTimed:s,gameReserve:n,gameWinCondition:i}},mounted(){pt.a.AutoInit()}};ft.render=jt;var yt=ft;const ht={class:"container-fluid"},wt={class:"container"},kt=Object(c["e"])('<div class="center"><h5><i class="material-icons space-right">fingerprint</i>Join a game room</h5></div><div class="row"><div class="col s12 m12"><p class="center">A room is a place where you can join your friends or teammates to play Gadol.</p><p class="center">Use the ID given to you to join the game.</p></div></div>',2),Rt={class:"row"},Ct=Object(c["g"])("div",{class:"col s12 m2"},null,-1),Pt={class:"col s12 m8"},_t={class:"card horizontal"},Gt={class:"card-stacked"},Nt={class:"card-content"},xt={class:"row"},zt={class:"input-field col s12 m12 "},At=Object(c["g"])("label",{for:"room_id"},"Enter the room ID",-1),It={class:"row"},Tt={class:"col s12 m12 center"},St=Object(c["g"])("i",{class:"material-icons left"},"fingerprint",-1),Dt=Object(c["f"])("Join a room"),Lt={class:"center space-allaround"},Ut=Object(c["f"])("If you would like to create a room instead, click "),Et=Object(c["f"])("here"),Vt=Object(c["f"])("."),Yt=Object(c["g"])("div",{class:"col s12 m2"},null,-1);function Ft(e,t,a,l,o,s){const r=Object(c["w"])("NavbarLoggedIn"),n=Object(c["w"])("router-link");return Object(c["p"])(),Object(c["d"])("div",ht,[Object(c["g"])(r),Object(c["g"])("div",wt,[kt,Object(c["g"])("div",Rt,[Ct,Object(c["g"])("div",Pt,[Object(c["g"])("div",_t,[Object(c["g"])("div",Gt,[Object(c["g"])("div",Nt,[Object(c["g"])("form",null,[Object(c["g"])("div",xt,[Object(c["g"])("div",zt,[Object(c["G"])(Object(c["g"])("input",{id:"room_id",type:"text",class:"validate","onUpdate:modelValue":t[1]||(t[1]=e=>l.roomID=e)},null,512),[[c["C"],l.roomID]]),At])]),Object(c["g"])("div",It,[Object(c["g"])("div",Tt,[Object(c["g"])("a",{class:"waves-effect waves-light btn amber accent-4 black-text",onClick:t[2]||(t[2]=(...e)=>l.joinRoom&&l.joinRoom(...e))},[St,Dt]),Object(c["g"])("div",Lt,[Object(c["g"])("span",null,[Ut,Object(c["g"])(n,{to:"/create"},{default:Object(c["F"])(()=>[Et]),_:1}),Vt])])])])])])])])]),Yt])])])}var Mt={components:{NavbarLoggedIn:ye},setup(){let e=Object(re["j"])();const t=Object(r["c"])(),a=()=>{t.push({name:"GameRoom",params:{id:e.value}}),console.log("Room joined",e.value),M.toast({html:"Room has been joined"}),console.log("Join a room clicked")},c={name:"Brian"},l=null;return{joinRoom:a,Player:c,haveRooms:l,roomID:e}}};Mt.render=Ft;var Ht=Mt;const qt={class:"container-fluid"},Jt={class:"container-fluid"},Wt={class:"col s12 space-left"},Bt=Object(c["f"])(" Welcome to Game Room ID: "),Kt={class:"red-text grey lighten-3 multipadding-5"},Qt={class:"row"},Xt={class:"col s12"},Zt=Object(c["g"])("p",null,"Game data",-1),$t=Object(c["g"])("div",{class:"container-fluid yellow"},[Object(c["g"])("div",{class:"row"},[Object(c["g"])("div",{class:"col s4 space-allaround "})])],-1);function ea(e,t,a,l,o,s){const r=Object(c["w"])("NavbarInRoom");return Object(c["p"])(),Object(c["d"])("div",qt,[Object(c["g"])(r),Object(c["g"])("div",Jt,[Object(c["g"])("div",Wt,[Object(c["g"])("h6",null,[Bt,Object(c["g"])("span",Kt,Object(c["y"])(a.id),1)])]),Object(c["g"])("div",Qt,[Object(c["g"])("div",Xt,[Zt,Object(c["g"])("p",null," Room name: "+Object(c["y"])(l.gameData.name),1),Object(c["g"])("p",null," Players: "+Object(c["y"])(l.gameData.numPlayers),1)])])]),$t])}const ta=Object(c["H"])("data-v-0195857a");Object(c["s"])("data-v-0195857a");const aa={class:""},ca={class:"nav-wrapper purple darken-4 padding-left "},la=Object(c["f"])("Gadol Online"),oa={id:"nav-mobile",class:"right hide-on-med-and-down"},sa={class:"padding-right"},ra=Object(c["f"])("Exit game"),na=Object(c["g"])("i",{class:"material-icons right"},"highlight_off",-1);Object(c["q"])();const ia=ta((e,t,a,l,o,s)=>{const r=Object(c["w"])("router-link");return Object(c["p"])(),Object(c["d"])("nav",aa,[Object(c["g"])("div",ca,[Object(c["g"])(r,{to:"/",class:"brand-logo left"},{default:ta(()=>[la]),_:1}),Object(c["g"])("ul",oa,[Object(c["g"])("li",sa,"You are logged in as: "+Object(c["y"])(l.user.displayName),1),Object(c["g"])("li",null,[Object(c["g"])("a",{onClick:t[1]||(t[1]=(...e)=>l.handleExit&&l.handleExit(...e))},[ra,na])])])])])});var da={setup(){const{user:e}=ve(),t=Object(r["c"])(),a=()=>{console.log("user exited the game"),t.push({name:"Player",params:{user:e}}),M.toast({html:"You exited the game"})};return{user:e,handleExit:a}}};a("df2a");da.render=ia,da.__scopeId="data-v-0195857a";var ua=da,ba={components:{NavbarInRoom:ua},props:["id"],setup(e){const{user:t}=ve(),a=Object(re["j"])(null);Object(r["c"])();return de.onAuthStateChanged(t=>{t?(console.log("From inside the fetch: ",e.id),ue.collection("rooms").doc(e.id).onSnapshot(e=>{let t=e.data();a.value=t,console.log(t)},e=>{console.log(e.message)})):console.log("user logged out")}),{user:t,gameData:a}}};ba.render=ea;var ga=ba;const ja=Object(c["H"])("data-v-4c4a37a9");Object(c["s"])("data-v-4c4a37a9");const Oa={class:"container-fluid"},pa={class:"container"},ma=Object(c["g"])("h4",null,"Login",-1),va={class:"row"},fa={class:"col s12 m12"},ya={class:"card"},ha={class:"card-content"},wa=Object(c["g"])("p",null,"If you are already registered, please complete you credentials to login.",-1),ka={class:"row no-margin"},Ra={class:"col s12"},Ca={class:"row small-padding"},Pa={class:"input-field col s12"},_a=Object(c["g"])("label",{for:"email"},"Email",-1),Ga={class:"row small-padding"},Na={class:"input-field col s12"},xa=Object(c["g"])("label",{for:"password"},"Password",-1),za={class:"center"},Aa={class:"red-text"},Ia=Object(c["g"])("i",{class:"material-icons left"},"account_circle",-1),Ta=Object(c["f"])("Login"),Sa={class:"multipadding-10"},Da=Object(c["f"])("Not yet registered? Please "),La=Object(c["f"])("sign up"),Ua=Object(c["f"])(" instead.");Object(c["q"])();const Ea=ja((e,t,a,l,o,s)=>{const r=Object(c["w"])("Navbar"),n=Object(c["w"])("router-link");return Object(c["p"])(),Object(c["d"])("div",Oa,[Object(c["g"])(r),Object(c["g"])("div",pa,[ma,Object(c["g"])("div",va,[Object(c["g"])("div",fa,[Object(c["g"])("div",ya,[Object(c["g"])("div",ha,[wa,Object(c["g"])("div",ka,[Object(c["g"])("form",Ra,[Object(c["g"])("div",Ca,[Object(c["g"])("div",Pa,[Object(c["G"])(Object(c["g"])("input",{id:"email",type:"email",class:"validate","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e)},null,512),[[c["C"],l.email]]),_a])]),Object(c["g"])("div",Ga,[Object(c["g"])("div",Na,[Object(c["G"])(Object(c["g"])("input",{id:"password",type:"password",class:"validate","onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e)},null,512),[[c["C"],l.password]]),xa])])])])]),Object(c["g"])("div",za,[Object(c["g"])("div",Aa,Object(c["y"])(l.error),1),Object(c["g"])("a",{to:"/join",class:"waves-effect waves-light btn space-right green darken-3",onClick:t[3]||(t[3]=(...e)=>l.handleLogin&&l.handleLogin(...e))},[Ia,Ta]),Object(c["g"])("p",Sa,[Da,Object(c["g"])(n,{to:"/signup",class:""},{default:ja(()=>[La]),_:1}),Ua])])])])])])])}),Va=Object(re["j"])(null),Ya=async(e,t)=>{Va.value=null;try{const a=await de.signInWithEmailAndPassword(e,t);return Va.value=null,console.log(a),a}catch(a){console.log(a.value),Va.value="Incorrect login credentials"}},Fa=()=>({error:Va,login:Ya});var Ma=Fa,Ha={components:{Navbar:x},setup(){const{error:e,login:t}=Ma(),a=Object(re["j"])(""),c=Object(re["j"])(""),l=Object(r["c"])(),o=()=>{console.log("Clicked")},s=async()=>{await t(a.value,c.value),e.value||(l.push({name:"Player"}),console.log("User logged in"),M.toast({html:"You have logged in"}))};return{email:a,password:c,handleLogin:s,error:e,handleClick:o}}};a("b9da");Ha.render=Ea,Ha.__scopeId="data-v-4c4a37a9";var qa=Ha;const Ja=Object(c["H"])("data-v-4e2435b5");Object(c["s"])("data-v-4e2435b5");const Wa={class:"container-fluid"},Ba={class:"container"},Ka=Object(c["g"])("h4",null,"Sign up",-1),Qa={class:"row"},Xa={class:"col s12 m12"},Za={class:"card"},$a={class:"card-content"},ec=Object(c["g"])("p",null,"To play you need to register - please complete the following.",-1),tc={class:"row no-margin"},ac={class:"col s12"},cc={class:"row small-padding"},lc={class:"input-field col s6"},oc=Object(c["g"])("label",{for:"first_name"},"First Name",-1),sc={class:"input-field col s6"},rc=Object(c["g"])("label",{for:"last_name"},"Last Name",-1),nc={class:"row small-padding"},ic={class:"input-field col s12"},dc=Object(c["g"])("label",{for:"email"},"Email",-1),uc={class:"row small-padding"},bc={class:"input-field col s12"},gc=Object(c["g"])("label",{for:"password"},"Password",-1),jc={class:"center"},Oc={class:"red-text"},pc=Object(c["g"])("i",{class:"material-icons left"},"add_circle",-1),mc=Object(c["f"])("Sign up"),vc={class:"multipadding-10"},fc=Object(c["f"])("Registered already? Please "),yc=Object(c["f"])("login"),hc=Object(c["f"])(" instead.");Object(c["q"])();const wc=Ja((e,t,a,l,o,s)=>{const r=Object(c["w"])("Navbar"),n=Object(c["w"])("router-link");return Object(c["p"])(),Object(c["d"])("div",Wa,[Object(c["g"])(r),Object(c["g"])("div",Ba,[Ka,Object(c["g"])("div",Qa,[Object(c["g"])("div",Xa,[Object(c["g"])("div",Za,[Object(c["g"])("div",$a,[ec,Object(c["g"])("div",tc,[Object(c["g"])("form",ac,[Object(c["g"])("div",cc,[Object(c["g"])("div",lc,[Object(c["G"])(Object(c["g"])("input",{id:"first_name",type:"text",class:"validate",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>l.displayName=e)},null,512),[[c["C"],l.displayName]]),oc]),Object(c["g"])("div",sc,[Object(c["G"])(Object(c["g"])("input",{id:"last_name",type:"text",class:"validate",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>l.lastName=e)},null,512),[[c["C"],l.lastName]]),rc])]),Object(c["g"])("div",nc,[Object(c["g"])("div",ic,[Object(c["G"])(Object(c["g"])("input",{id:"email",type:"email",class:"validate",required:"","onUpdate:modelValue":t[3]||(t[3]=e=>l.email=e)},null,512),[[c["C"],l.email]]),dc])]),Object(c["g"])("div",uc,[Object(c["g"])("div",bc,[Object(c["G"])(Object(c["g"])("input",{id:"password",type:"password",class:"validate",required:"","onUpdate:modelValue":t[4]||(t[4]=e=>l.password=e),autocomplete:"off"},null,512),[[c["C"],l.password]]),gc])])])])]),Object(c["g"])("div",jc,[Object(c["g"])("div",Oc,Object(c["y"])(l.error),1),Object(c["g"])("button",{to:"/join",class:"waves-effect waves-light btn space-right green darken-3",onClick:t[5]||(t[5]=(...e)=>l.handleSignup&&l.handleSignup(...e))},[pc,mc]),Object(c["g"])("p",vc,[fc,Object(c["g"])(n,{to:"/login",class:""},{default:Ja(()=>[yc]),_:1}),hc])])])])])])])}),kc=Object(re["j"])(null),Rc=async(e,t,a,c)=>{kc.value=null;try{const l=await de.createUserWithEmailAndPassword(e,t);if(!l)throw new Error("Could not complete the signup");return await l.user.updateProfile({displayName:a}),ue.collection("players").doc(l.user.uid).set({name:a,surname:c}),kc.value=null,l}catch(l){console.log(l.message),kc.value=l.message}},Cc=()=>({error:kc,signup:Rc});var Pc=Cc,_c={components:{Navbar:x},setup(e,t){const{error:a,signup:c}=Pc(),l=Object(re["j"])(""),o=Object(re["j"])(""),s=Object(re["j"])(""),n=Object(re["j"])(""),i=Object(r["c"])(),d=async()=>{await c(s.value,n.value,l.value,o.value),a.value||i.push({name:"Player"})};return{handleSignup:d,displayName:l,email:s,password:n,error:a,lastName:o}}};a("f5d0");_c.render=wc,_c.__scopeId="data-v-4e2435b5";var Gc=_c;const Nc=async(e,t,a)=>{let c=de.currentUser;console.log("currect user in auth guard: ",c),c?a():a({name:"Home"})},xc=[{path:"/",name:"Home",component:A},{path:"/login",name:"Login",component:qa},{path:"/signup",name:"Signup",component:Gc},{path:"/player",name:"Player",component:we,beforeEnter:Nc},{path:"/create",name:"Create",component:yt,beforeEnter:Nc},{path:"/join",name:"Join",component:Ht,beforeEnter:Nc},{path:"/gameroom/:id",name:"GameRoom",component:ga,props:!0,beforeEnter:Nc}],zc=Object(r["a"])({history:Object(r["b"])("/"),routes:xc});var Ac=zc;a("8266"),a("7e79"),a("7e02");let Ic;de.onAuthStateChanged(()=>{Ic||(Ic=Object(c["c"])(s).use(Ac).mount("#app"))})},"7e02":function(e){e.exports=JSON.parse("{}")},"7e79":function(e,t,a){},a098:function(e,t,a){},a681:function(e,t,a){"use strict";a("a098")},b9da:function(e,t,a){"use strict";a("c2ed")},c2ed:function(e,t,a){},df2a:function(e,t,a){"use strict";a("4501")},f5d0:function(e,t,a){"use strict";a("35c7")}});
//# sourceMappingURL=app.0a6dbfb9.js.map